ï»¿import "../styles/globals.css";
import type { Metadata } from "next";
import Link from "next/link";
import Image from "next/image";

export const metadata: Metadata = {
  title: "FGC Proyectos | ConstrucciÃ³n, DiseÃ±o y Gerencia",
  description:
    "Soluciones integrales en construcciÃ³n, diseÃ±o y gerencia de proyectos para desarrollos residenciales, comerciales e industriales.",
  icons: { icon: "/logo.png" },
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="es">
      <head>
        {/* Fuerza UTF-8 para evitar problemas de tildes */}
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </head>
      <body className="bg-white text-slate-800">
        {/* HEADER */}
        <header className="sticky top-0 z-50 border-b border-black/5 bg-white/80 backdrop-blur">
          <div className="container grid grid-cols-[1fr_auto_1fr] items-center py-3 md:py-4">
            {/* Logo (izquierda) */}
            <Link href="/" className="flex items-center gap-3">
              <Image
                src="/logo.png"
                alt="FGC Proyectos"
                width={112}
                height={112}
                priority
                className="h-10 w-auto md:h-12"
              />
              <span className="sr-only">FGC Proyectos</span>
            </Link>

            {/* MenÃº centrado */}
            <nav className="justify-self-center flex items-center gap-7 text-base md:text-lg">
              <Link href="/quienes-somos" className="hover:underline">
                {"Qu\u00EDenes somos"}
              </Link>

              {/* Dropdown Servicios (sin flicker: sin gap externo, usa pt-2 interno) */}
              <div className="relative group/serv">
                <Link href="/servicios" className="inline-flex items-center gap-1 hover:underline">
                  Servicios
                  <svg width="14" height="14" viewBox="0 0 20 20" aria-hidden className="opacity-80">
                    <path d="M5 7l5 5 5-5" fill="none" stroke="currentColor" strokeWidth="2" />
                  </svg>
                </Link>

                {/* Contenedor absoluto pegado al trigger */}
                <div className="absolute left-1/2 -translate-x-1/2 top-full z-50">
                  <div className="pt-2">
                    <div
                      className="
                        min-w-[360px] rounded-2xl border border-slate-200 bg-white p-3 shadow-xl
                        opacity-0 -translate-y-1 pointer-events-none transition duration-150
                        group-hover/serv:opacity-100 group-hover/serv:translate-y-0 group-hover/serv:pointer-events-auto
                        focus-within:opacity-100 focus-within:translate-y-0 focus-within:pointer-events-auto
                      "
                      role="menu"
                      aria-label="Servicios"
                    >
                      <ul className="grid grid-cols-1 gap-1 text-slate-800">
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/construccion">
                            ConstrucciÃ³n de Obras
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/gerencia">
                            Gerencia de Proyectos de ConstrucciÃ³n
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/mantenimiento">
                            Mantenimiento Preventivo de Infraestructuras
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/ia">
                            Servicios Potenciados con Inteligencia Artificial
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/asesoria">
                            AsesorÃ­a en Desarrollo de Proyectos
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/ito">
                            InspecciÃ³n TÃ©cnica de Obras (ITO)
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/busqueda">
                            BÃºsqueda e InspecciÃ³n de Locales y Terrenos
                          </Link>
                        </li>
                        <li>
                          <Link className="block rounded-xl px-3 py-2 hover:bg-slate-100" href="/servicios/complementarios">
                            Servicios Complementarios para Proyectos Inmobiliarios
                          </Link>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <Link href="/clientes" className="hover:underline">
                Clientes
              </Link>
              <Link href="/galeria" className="hover:underline">
                {"Galer\u00EDa"}
              </Link>
              <Link href="/proyectos" className="hover:underline">
                Proyectos
              </Link>
            </nav>

            {/* CTA (derecha) */}
            <div className="justify-self-end">
              <Link
                href="/contacto"
                className="inline-block rounded-2xl bg-[#123147] text-white px-4 py-2 text-sm md:text-base hover:opacity-90 transition"
              >
                ContÃ¡ctenos
              </Link>
            </div>
          </div>
        </header>

        <main>{children}</main>

        {/* FOOTER */}
        <footer className="mt-24 border-t border-black/5 bg-white">
          <div className="container py-10 text-sm">
            <div className="grid gap-6 md:grid-cols-3">
              <div>
                <p className="font-semibold">FGC Proyectos</p>
                <p>Soluciones integrales en construcciÃ³n, diseÃ±o y gerencia.</p>
              </div>
              <div>
                <p className="font-semibold">Contacto</p>
                <p>info@fgcproyectos.com</p>
                <p>+593 4 225 0482</p>
                <p>C.C. Plaza Siete y Medio Of. 7 (Km. 7.5 VÃ­a a Daule)</p>
              </div>
              <div>
                <p className="font-semibold">NavegaciÃ³n</p>
                <ul className="space-y-1">
                  <li>
                    <Link href="/quienes-somos">{"Qu\u00EDenes somos"}</Link>
                  </li>
                  <li>
                    <Link href="/servicios">Servicios</Link>
                  </li>
                  <li>
                    <Link href="/clientes">Clientes</Link>
                  </li>
                  <li>
                    <Link href="/galeria">{"Galer\u00EDa"}</Link>
                  </li>
                  <li>
                    <Link href="/proyectos">Proyectos</Link>
                  </li>
                  <li>
                    <Link href="/contacto">Contacto</Link>
                  </li>
                </ul>
              </div>
            </div>
            <p className="mt-6">
              Â© {new Date().getFullYear()} FGC Proyectos. Todos los derechos reservados.
            </p>
          </div>
        </footer>
      </body>
    </html>
  );
}
